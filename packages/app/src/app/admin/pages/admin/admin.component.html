<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #drawer class="sidenav" fixedInViewport="true" [attr.role]="(isMobile | async) ? 'dialog' : 'navigation'"
               [mode]="(isMobile | async) ? 'over' : 'side'" [opened]="!(isMobile | async)">
    <mat-toolbar class="sidenav__header" routerLink="/admin">
      <mat-icon class="sidenav__header__icon">bubble_chart</mat-icon>
      <span>TippetCMS</span>
    </mat-toolbar>
    <mat-nav-list class="sidenav__list">
      <a mat-list-item routerLink="." routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}">
        <mat-icon class="sidenav__list__icon">dashboard</mat-icon>
        <span>Overview</span>
      </a>
      <a mat-list-item routerLink="pages" routerLinkActive="active" class="sidenav__list__item">
        <mat-icon class="sidenav__list__icon">settings_system_daydream</mat-icon>
        Pages
      </a>
      <a mat-list-item routerLink="media" routerLinkActive="active">
        <mat-icon class="sidenav__list__icon">wallpaper</mat-icon>
        Media
      </a>
      <a mat-list-item routerLink="elements" routerLinkActive="active">
        <mat-icon class="sidenav__list__icon">settings_ethernet</mat-icon>
        Elements
      </a>
      <mat-divider></mat-divider>
      <a mat-list-item routerLink="settings" routerLinkActive="active">
        <mat-icon class="sidenav__list__icon">settings_applications</mat-icon>
        Settings
      </a>
      <mat-divider></mat-divider>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content class="content">
    <mat-toolbar class="content__header" [ngClass]="{'content__header--transparent': isHome, 'content__header--isMobile': isMobile | async}">
      <button type="button" aria-label="Toggle sidenav" mat-icon-button (click)="drawer.toggle()" *ngIf="isMobile | async">
        <mat-icon class="content__header__icon" aria-label="Side nav toggle icon">menu</mat-icon>
      </button>
      <span class="spacer"></span>
      <button mat-icon-button (click)="save()" [disabled]="isSaving | async">
        <mat-icon class="content__header__icon disabled" [ngClass]="{disabled: isSaving | async}">save</mat-icon>
      </button>
      <button mat-icon-button (click)="build()" [disabled]="isBuilding | async">
        <mat-icon class="content__header__icon disabled" [ngClass]="{disabled: isBuilding | async}">build</mat-icon>
      </button>
      <button mat-icon-button>
        <mat-icon class="content__header__icon">launch</mat-icon>
      </button>
      <img matListAvatar src="{{(user | async)?.photoURL}}" alt="" [matMenuTriggerFor]="menu">
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="logout()">
          <mat-icon>exit_to_app</mat-icon>
          <span>Logout</span>
        </button>
      </mat-menu>
    </mat-toolbar>
    <div class="content__inner">
      <router-outlet (activate)="getRoute()"></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
